<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />

    <title>Take a sip of CoffeeScript, the JS++</title>
    <meta name="author" content="@madsgraphics" />

    <link href="css/take_a_sip_of_coffeescript.css" media="screen, projection" rel="stylesheet" type="text/css" />
  </head>
  <body class="impress-not-supported">

    <div id="impress">

      <div class="step" data-x="-750" data-y="3000" data-z="-1600" data-rotate-x="-90" data-rotate="-90" data-scale="2">
        <p class="info">Take a sip of</p>
        <h1><img src="img/coffeescript-logo.svg" alt="CoffeeScript"/></h1>
        <p class="subtitle">Le JS++ <em>avec de vrais morceaux de chocolat dedans</em></p>
        <p class="author">servi par <a href="https://twitter.com/madsgraphics">@madsgraphics</a></p>
      </div>

      <div class="step" data-y="3000" data-rotate-x="-90">
        <span>Heeeeeey!</span><br>
        <span>Je suis <a href="https://twitter.com/madsgraphics">@madsgraphics</a>, et je fais du web ツ…</span><br>
        <span class="more">… mais pas seulement</span>
      </div>

      <div class="step slide" data-z="15000">
        <span>J'aime le web…</span><br>
        <span>Les interfaces riches…</span><br>
        <span>Les expériences utilisateur de qualité…</span>
      </div>

      <div class="step slide" data-z="12500">
        <span>Vous aussi ?</span>
      </div>

      <div class="step slide" data-z="10000">
        <span>Vous aimez JavaScript, alors ?</span>
      </div>

      <div class="step slide" data-z="7500">
        <span>Pas moi…</span>
      </div>

      <div class="step slide" data-z="5000">
        <span>Enfin si, j'aime JavaScript…</span><br>
        <span>… mais je déteste l'écrire.</span>
      </div>

      <div class="step slide" data-z="2500">
        <span>Si vous êtes comme moi…</span><br>
        <span>(we are legions!)</span>
      </div>

      <div class="step" data-y="-2000" data-z="2500">
        <h2><img src="img/coffeescript-logo.svg" alt="CoffeeScript"></h2>
      </div>

      <div class="step slide" data-y="-1000" data-z="2500" data-rotate="90">
        <div>Petit rappel historique</div>
        <div class="flipcard">
          <div class="front">Web Browser*</div>
          <div class="back" style="line-height: 1.8em;">22 avril 1993<br>NCSA Mosaic</div>
        </div>
        <div class="flipcard">
          <div class="front">JavaScript*</div>
          <div class="back">Septembre 1995</div>
        </div>
        <div class="flipcard">
          <div class="front">XMLHTTPRequest*</div>
          <div class="back">Mars 1999</div>
        </div>
        <div class="flipcard">
          <div class="front">CoffeeScript*</div>
          <div class="back">24 décembre 2009</div>
        </div>
        <p class="legend">*click me</p>
      </div>

      <div class="step">
        <div>Avant, javascript, ça servait surtout à ça…</div>
        <iframe src="./_matrix.html" frameborder="0" width="100%" height="450px"></iframe>
      </div>

      <div class="step big" data-rotate-y="90">
        <span>Produire du code JS natif a un <strong>coût</strong>…</span>
      </div>

      <div class="step" data-rotate-y="90" data-rotate-x="90" data-y="600" data-z="-300">
        <span>Parce qu'un developpeur a <strong>besoin</strong> d'un langage</span>
        <ul>
          <li>Souple</li>
          <li>Modérément verbeux</li>
          <li>Compréhensible</li>
          <li>Hackable !</li>
        </ul>
      </div>

      <div class="step big" data-rotate-y="90" data-rotate-x="180" data-y="900">
        <strong>Javascript ???</strong>
      </div>

      <div class="step big" data-rotate-y="90" data-rotate-x="180" data-y="800" data-z="150">
        <span>WTF?</span>
      </div>

      <div class="step" data-rotate-y="90" data-rotate-x="180" data-y="2000" data-z="150">
        <span>Scope global</span>
        <pre class="prettyprint linenums lang-javascript">
<code>function increase(n) {
  result = n + 1;
  return result;
}

function decrease() {
  result -= 1;
  return result;
}</code></pre>
      </div>

      <div class="step" data-rotate-y="180" data-rotate-x="180" data-y="2000" data-z="1050" data-x="-900">
        <span><code>with</code> block</span>
        <pre class="prettyprint linenums lang-javascript">
<code>var foo = 5;
with (obj)
  print foo; // 5 sauf si obj.foo existe</code></pre>
      </div>

      <div class="step" data-rotate-y="270" data-rotate-x="180" data-y="2000" data-z="600" data-x="-2250">
        <span>Negative Zero !</span>
        <pre class="prettyprint linenums lang-javascript">
<code>0 === -0; // true
1/0 === 1/-0; // false</code></pre>
      </div>

      <div class="step"  data-rotate-y="360" data-rotate-x="180" data-y="2000" data-z="150" data-x="-1800">
        <span>NaN</span>
        <pre class="prettyprint linenums lang-javascript">
<code> typeof NaN; // "number"</code></pre>
      </div>

      <div class="step" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="150" data-x="-1800">
        <span>So, Wait, What?</span>
      </div>

      <div class="step inventors" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="150" data-x="-1800">
        <span class="name">John McCarthy</span>
        <img src="img/john-mc-carthy.jpg"/>
        <span class="language">Lisp, 1958</span>
      </div>

      <div class="step inventors" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="150" data-x="-1800">
        <span class="name">Dennis Ritchie</span>
        <img src="img/dennis-ritchie.jpg"/>
        <span class="language">C, 1973</span>
      </div>

      <div class="step inventors" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="150" data-x="-1800">
        <span class="name">Bjarne Stroustrup</span>
        <img src="img/bjarne-stroustrup.jpg"/>
        <span class="language">C++, 1983</span>
      </div>

      <div class="step inventors" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="150" data-x="-1800">
        <span class="name">Guido Van Rossum</span>
        <img src="img/guido-van-rossum.jpg"/>
        <span class="language">Python, 1991</span>
      </div>

      <div class="step inventors" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="150" data-x="-1800">
        <span class="name">James Gosling</span>
        <img src="img/james-gosling.jpg"/>
        <span class="language">Java, 1995</span>
      </div>

      <div class="step inventors" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="150" data-x="-1800">
        <span class="name">Yukihiro “Matz” Matsumoto</span>
        <img src="img/yukihiro-matsumoto.jpg"/>
        <span class="language">Ruby, 1995</span>
      </div>

      <div class="step inventors" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="150" data-x="-1800">
        <span class="name">Brendan Eich</span>
        <img src="img/brendan-eich.jpg"/>
        <span class="language">JavaScript, 1995</span>
      </div>

      <div class="step" data-scale="1.5" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="150" data-x="-1800">
        <!-- facials -->
      </div>

      <div class="step" data-scale="1.5" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="150" data-x="-1800">
        <!-- bears -->
      </div>

      <div class="step" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="150" data-x="-1800">
        <!-- brendan bears ? -->
      </div>

      <div class="step inventors" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="650" data-x="-1800">
        <span class="name">Anders Hejlsberg</span>
        <img src="img/anders-hejlsberg.jpg"/>
        <span class="language">C#, 2001</span>
      </div>

      <div class="step inventors" data-rotate-x="180" data-rotate="90" data-y="2000" data-z="1150" data-x="-1800">
        <span class="name">Larry Wall</span>
        <img src="img/larry-wall.jpg"/>
        <span class="language">Perl, 1987</span>
      </div>

      <div class="step">
        <span>Pas d'espoir pour JavaScript ?</span>
      </div>

      <div class="step inventors">
        <span class="name">Douglas Crockford</span>
        <img src="img/douglas-crockford.jpg"/>
        <span class="language">JSlint, 2008</span>
      </div>

      <div class="step" data-rotate-y="180">
        <span><code>"use strict";</code></span>
        <ul>
          <li>Plus de variable globale : <code>ReferenceError</code></li>
          <li>Plus d'instruction <code>with</code></li>
        </ul>
      </div>

      <div class="step inventors" data-rotate-y="180" data-x="-1000">
        <span class="name">Ryan Dahl</span>
        <img src="img/ryan-dahl.jpg">
        <span class="language">NodeJS, 2009</span>
      </div>

      <div class="step">
        <span>JavaScript Crunch</span>
        <pre class="prettyprint linenums lang-javascript">
<code>
Sharing = {
  init: function (sf_info) {
    [sf_info.current, sf_info.past].each(function (list) {
      list.each(function (info) {
        Sharing._decode_sort_key(info);
      });
    });
  }
}</code></pre>
        <span class="legend">* © Dropbox - <a href="https://tech.dropbox.com/2012/09/dropbox-dives-into-coffeescript/">https://tech.dropbox.com/2012/09/dropbox-dives-into-coffeescript/</a></span>
      </div>

      <div class="step inventors" data-rotate-x="-90" data-y="300" data-z="-500">
        <span class="name">Jeremy Ashkenas</span>
        <img src="img/jeremy-ashkenas.jpg">
        <span class="language">CoffeeScript, 2009</span>
      </div>

      <div class="step" data-rotate-x="-90" data-y="300" data-z="-500">
        <!-- WTF Jeremy Ashkenas -->
      </div>

      <div class="step" data-scale=".3" data-rotate-x="-90" data-x="-150" data-y="300" data-z="-500">
        <!-- Zomming Jeremy Ashkenas -->
      </div>

      <div class="step big">
        <quote>CoffeeScript est un micro-langage qui <strong>compile</strong> vers JavaScript</quote>
      </div>

      <div class="step" data-rotate="90" data-x="400" data-y="550">
        <span>CoffeeScript n'est rien d'autre que JavaScript</span>
      </div>

      <div class="step" data-rotate="90" data-x="200" data-y="550">
        <span>CoffeeScript considère que tout est une <strong>expression</strong></span>
      </div>

      <div class="step example" data-rotate="90" data-x="-1000" data-y="550">
        <span>Indentation</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>if hungry != true
  stomac = "empty"
else
  stomac = "full"</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example" data-rotate="90" data-x="-1600" data-y="550">
        <span>Plus classe encore</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>stomac = if hungry then "empty" else "full"</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example" data-rotate="90" data-x="-3200" data-y="550">
        <span>Variables</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>message = "Ready for some Coffee?"
alert message
</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example" data-rotate="90" data-x="-4800" data-y="550">
        <span>Fonctions</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>getCoffee = (quantity, cream = true) ->
  cream = if cream then "with some cream" else "without some cream"
  confirm "Ready for #{quantity} coffee(s) #{cream}."
</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
        <ul>
          <li>Indentation de 2 espaces ou 1 tabulation</li>
          <li><code>return</code> la dernière valeur</li>
        </ul>
      </div>

      <div class="step example" data-rotate="90" data-x="-6400" data-y="550">
        <span>Appel de fonctions</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>ready = getCoffee 2
readyWithoutCream = getCoffee 2, false
readyWithoutCream = getCoffee(2, false)</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example" data-rotate="90" data-x="-8000" data-y="550">
        <span>Appel de fonctions sans argument</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>takeCoffee = ->
  "You can take your Coffee, have a nice day!"
take = takeCoffee()
takeASip = takeCoffee</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example" data-rotate="90" data-x="-10000" data-y="550">
        <span><s>Weird</s> JavaScript</span>
        <ul>
          <li>
            <span><i>Toutes</i> les déclarations de variables sont locales</span>
            <pre class="prettyprint linenums lang-coffeescript">
<code>message = "Wait a second for your Coffee, please"
ready = ->
  message = "Take your Sip of CoffeeScript!"

alert message
alert ready()</code></pre>
            <pre class="prettyprint linenums lang-javascript"><code></code></pre>
          </li>
          <li>
            <span>Pas d'opérateur de comparaison à faible typage</span>
            <pre class="prettyprint linenums lang-coffeescript">
<code>alert 2 == "2"</code></pre>
            <pre class="prettyprint linenums lang-javascript"><code></code></pre>
          </li>
          <li>
            <span><code>"use strict";</code></span>
          </li>
        </ul>
      </div>

      <div class="step big">
        <span>Vous en voulez plus ?</span>
      </div>

      <div class="step example" data-rotate-y="90" data-z="-100" data-x="500">
        <span>Objets</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>coffee =
  quantity: 1
  extras:
    cream: false
    milk: true
  takeASip: (size) ->
      "Go to prepare #{@quantity} #{size} Coffee(s)!"

coffee.quantity = 2
alert cofee.takeASip long</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example" data-rotate-y="90" data-z="-2000" data-x="500">
        <span>Arrays</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>coffees = [ "affogato", "caffè latte", "cappuccino", "mocha" ]
numbers = [0..9]</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example"  data-rotate-y="90" data-z="-3000" data-x="500">
        <span>Opérations sur les tableaux</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>coffees = [ "affogato", "caffè latte", "cappuccino", "macchiato", "mocha", "mazagran" ]
aNames = coffees[0]
cNames = coffees[1...3]
mNames = coffees[3..]</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
        <pre class="prettyprint linenums lang-coffeescript">
<code>coffees[1..2] = [ "irish coffee", "kopi susu" ]</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example" data-rotate-y="90" data-z="-4000" data-x="500">
        <span>Destructuring Assignment</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>coffees = [ "affogato", "caffè latte", "cappuccino", "macchiato", "mocha", "mazagran" ]
[ latte, cappucino ] = coffees[1..2]

sumAndDifference = (a, b) -> [ a + b , a - b ]
[ sum, difference ] = sumAndDifference 5, 2</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example" data-rotate-y="90" data-z="-5000" data-x="500">
        <span>Boucle <code>for</code></span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>coffees = [ "affogato", "caffè latte", "cappuccino", "macchiato" ]
getCoffee i + 1, coffee for coffee, i in coffees</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
        <span>Et conditionnelles</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>coffees = [ "affogato", "caffè latte", "cappuccino", "macchiato" ]
drink coffee for coffee in coffees when coffee isnt ( "cappuccino" or "affogato")</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example" data-rotate-y="90" data-z="-6000" data-x="500">
        <span>Boucle <code>while</code></span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>money = 15
while money > 0
  payCoffee money</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>

        <pre class="prettyprint linenums lang-coffeescript">
<code>until money < 1
  payCoffee money</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>

        <pre class="prettyprint linenums lang-coffeescript">
<code>payCoffee money while money > 0</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step big">
        <span>Encore plus pratique :]…</span>
      </div>

      <div class="step example" data-rotate-y="90" data-z="1000" data-x="500">
        <span>Comparaisons chainées</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>alert "We've got enought coffees" if 10 < coffees < 20</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
        <span>Opérateur d'existence</span>
        <pre class="prettyprint linenums lang-coffeescript">
<code>if coffee.ready? then alert "Your coffe is ready…"
if coffee.ready?.hot? then alert "Wait a minute before drink…"</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example" data-rotate-y="90" data-z="2000" data-x="500">
        <span>Des classes !</span>
<pre class="prettyprint linenums lang-coffeescript">
<code>class Coffee
  constructor: (name, cream = null) ->

  prepare: ->
    extra = "with cream" if @cream?
    "Go to prepare a #{name} #{extra}"

class CoffeeCream extends Coffee
  constructor: (name) ->
    super name, true

affogato = new CoffeeCream "affogato"
alert affogato.prepare()</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
      </div>

      <div class="step example" data-rotate-y="90" data-z="3000" data-x="500">
        <span>Binding facile</span>
<pre class="prettyprint linenums lang-coffeescript">
<code>ActivateCart = ( customer, cart ) ->
  @customer = id
  @cart     = cart

  $( '.cart_add' ).on 'click', (e) =>
    e.preventDefault()
    e.stopPropagation()
    @customerID.purchase @cart</code></pre>
        <pre class="prettyprint linenums lang-javascript"><code></code></pre>
        <span class="legend"><a href="http://www.alistapart.com/articles/getoutbindingsituations/">http://www.alistapart.com/articles/getoutbindingsituations/</a></span>
      </div>

      <div class="step">
        <span>Et encore plein de morceaux de chocolat fondant</span>
        <ul>
          <li>Syntaxe Heredoc</li>
          <li>Bloc d'expressions régulières</li>
          <li>Blocs <code>Try</code>/<code>Catch</code></li>
          <li>Splats</li>
          <li>Duck Typing</li>
          <li>…</li>
        </ul>
      </div>

      <div class="step" data-rotate="90" data-y="800" data-x="800">
        <dl>
          <dt>Pros</dt>
          <dd>
            <ul>
              <li>Encourage l'utilisation de Design Patterns</li>
              <li>Favorise les Bonnes Pratiques, et prévient les erreurs</li>
              <li>Résoud les problèmes liés au JS pur</li>
              <li>Produit un code de qualité, propre, <strong>lisible</strong></li>
              <li>Permet la génération de documentation automatique avec <a href="https://jashkenas.github.com/docco/">Docco</a>
            </ul>
          </dd>
          <dt>Cons</dt>
          <dd>
            <ul>
              <li>Nécessite une compilation : <code>coffee -w</code></li>
              <li>Débuggage : utilisez <code>debugger</code> &amp; sourcemap</li>
            </ul>
          </dd>
        </dl>
      </div>

      <div class="step" data-rotate="180" data-y="800" data-x="-800">
        <span>Tips & Tricks</span>
        <ul>
          <li>Utilisez les splats</li>
          <li>Pensez aux booléens <code>yes / no</code>, <code>on / off</code></li>
          <li>Utilisez l'opérateur d'existence sur une méthode <code>MyClass.myFunction?(arg)</code></li>
          <li>Utilisez <code>in</code> pour tester la présence d'une valeur</li>
          <li>Utilisez les valeurs par défaut dans les méthodes</li>
          <li>Abusez des <em>string interpolation</em></li>
        </ul>
      </div>

      <div class="step big" data-rotate="270" data-y="-800" data-x="-800">
        <span>Relisez<br>“Javascript, The Good Parts”</span>
      </div>

      <div class="step big" data-rotate-y="360" data-rotate-x="180">
        <span>À vous de jouer <strong>maintenant</strong> !</span>
        <pre class="prettyprint lang-bash">
<code>$ npm -g install coffee-script
$ coffee -c main.coffee</code></pre>
      </div>

      <div class="step big slide" data-rotate-y="180" data-rotate-x="180">
        <span>Questions ?</span>
      </div>

      <div class="step big">
        <span>Ressources</span>
        <ul>
          <li><a href="http://coffeescript.org">coffeescript.org</a></li>
          <li><a href="http://coffeescriptcookbook.com">coffeescriptcookbook.com</a></li>
        </ul>
      </div>

      <div class="step" data-rotate-y="180" data-rotate-x="90" data-y="-400" data-z="900">
        <h2><strong>Merci !</strong></h2>
        <p>Aucun animal, aucune technologie ou aucun navigateur web récent ou ancien n'a été torturé pendant la préparation de cette conférence…</p>
        <p class="legend"><a href="http://madsgraphics.github.io/prez/take_a_sip_of_coffeescript.html">//madsgraphics.github.io/prez/take_a_sip_of_coffeescript.html</a></p>
      </div>

    </div>

    <script type="text/javascript" src="js/zepto.min.js"></script>
    <script type="text/javascript" src="js/coffee-script.js"></script>
    <script type="text/javascript" src="js/prettify.js"></script>
    <script type="text/javascript" src="js/impress.js"></script>
    <script type="text/javascript">
    Zepto(function($){
      $('.lang-javascript').each(function(e) {
        var code = $(this).prev().filter('.lang-coffeescript').text();
        if(!!code) {
          $(this).find('code').text(CoffeeScript.compile(code, {bare: true}));
        }
      });

      // hljs.initHighlightingOnLoad();
      prettyPrint();

      $('.flipcard').on('click', function() {
        $(this).toggleClass('flip');
      });

      impress().init();
    });
    </script>
  </body>
</html>
