<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">

    <title>The Ruby, The Rails and The Ugly</title>

    <meta name="description" content="The Ruby, The Rails and The Ugly">
    <meta name="author" content="MAD <code@madsgraphics.com>">

    <link rel="stylesheet" href="./css/reveal.min.css">
    <link rel="stylesheet" href="./css/theme/madsgraphics.css">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="./lib/css/tomorrow.css">

    <style type="text/css">
    #never {
        position: absolute;
        top: 50%;
        left: 0;
        font-size: 3.77em;
        width: 100%;
        margin-top: -0.5em;
        -webkit-transform: rotate(-25deg);
           -moz-transform: rotate(-25deg);
            -ms-transform: rotate(-25deg);
             -o-transform: rotate(-25deg);
                transform: rotate(-25deg);
        text-shadow: 0 1px 0 #cccccc, 0 2px 0 #c9c9c9, 0 3px 0 #bbbbbb, 0 4px 0 #b9b9b9, 0 5px 0 #aaaaaa, 0 6px 1px rgba(0, 0, 0, 0.1), 0 0 5px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.3), 0 3px 5px rgba(0, 0, 0, 0.2), 0 5px 10px rgba(0, 0, 0, 0.25), 0 20px 20px rgba(0, 0, 0, 0.15);
    }

    .reveal code {
      font-family: "Source Code Pro";
      font-size: 0.8em;
      color: #a40800;
    }
    .reveal pre code {
      color: inherit;
      max-height: 500px;
    }

    .reveal table {
      font-size: 0.6em;
      line-height: 1.5em;
      margin: 0 auto;
    }
    </style>

    <!--[if lt IE 9]>
    <script src="/lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="reveal">
      <div class="slides">

        <section>
          <h1>The <span class="hlt">Ruby</span>, The <span class="hlt">Rails</span><br>and The <span class="hlt">Ugly</span></h1>
          <p style="float:right"><small><a href="http://madsgraphics.github.io/prez/ruby_rails_ugly.html" class="normal"><span class="hlt">//</span>madsgraphics.github.io/prez/ruby_rails_ugly.html</a></small></p>
        </section>

        <section>
          <h2><span class="lettrine">R</span>uby</h2>
        </section>

        <section>
          <p class="breadcrumb">Ruby</p>
          <h2><span class="hlt">R</span>uby ?</h2>
          <ul>
            <li class="fragment"><span class="hlt">s</span>yntaxe expressive</li>
            <li class="fragment"><span class="hlt">m</span>ulti-paradigm</li>
            <li class="fragment"><span class="hlt">i</span>interpreté</li>
            <li class="fragment"><span class="hlt">f</span>ortement orienté objet</li>
          </ul>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Ruby</p>
            <h2 class="inst"><span class="hlt">B</span>ien démarrer</h2>
          </section>
          <section>
            <p class="breadcrumb">Ruby</p>
            <h2><span class="hlt">rb</span>env<sup>*</sup> & <span class="hlt">ruby</span>-build</h2>
            <pre><code data-trim contenteditable class="bash">
brew install rbenv ruby-build
            </code></pre>
            <pre><code data-trim contenteditable class="bash">
eval "$(rbenv init -)"
            </code></pre>
            <p class="legend"><sup>*</sup> rvm = caca</p>
          </section>
          <section>
            <p class="breadcrumb">Ruby</p>
            <h2><span class="hlt">E</span>valuer : <span class="hlt">IRB</span></h2>
            <pre><code data-trim contenteditable class="bash">
$ irb
irb(main):001:0>
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby</p>
            <h2><span class="hlt">H</span>ello World?</h2>
            <pre><code data-trim contenteditable class="ruby">
name = "World"
puts "Hello " + name
            </code></pre>
            <pre><code data-trim contenteditable class="bash">
$ ruby helloworld.rb
Hello World
            </code></pre>
          </section>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Ruby:Misfortunes</p>
            <h2 class="inst"><span class="hlt">R</span>uby misfortunes</h2>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Misfortunes</p>
            <h2><span class="hlt">E</span>ncoding</h2>
            <pre><code data-trim contenteditable class="ruby">
# encoding: utf-8
name = "Une chaîne de caractères traîtée en UTF-8 ☺︎"
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Misfortunes</p>
            <h3 class="inst"><span class="hlt">V</span>ariables</h3>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Misfortunes</p>
            <pre><code data-trim contenteditable class="ruby">
starts_with_a_lowercase = "a string"
_starts_with_underscore = "another string"

p1, p2 = 1, 2
p1, p2 = [ 1, 2, 3 ]

i_was_set = 1
i_was_set ||= 2
i_was_not_set ||= 2

tweets = timeline.tweets || []

PI = 3.1416

$a_global = "You can access to me everywhere"

nil # Singleton instance of NilClass
true # Singleton instance of TrueClass
false # Singleton instance of FalseClass
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Misfortunes</p>
            <h3 class="inst"><span class="hlt">M</span>éthodes</h3>
          </section>
          <section>
            <p class="breadcrumb">Ruby > Misfortunes</p>
            <pre><code data-trim contenteditable class="ruby">
def a_method_starts_with_a_lowercase
  puts "I'm a method"
end

def _or_an_underscore(a, b = 3)
  a * b
end

def pass_a_variable?(a = nil)
  !a.nil?
end

array.map!
my_object.property= "foo"
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Misfortunes</p>
            <h3><span class="hlt">T</span>ypes</h3>
            <ul>
              <li class="fragment">Numbers (fixnum, bignum, hex, octal…)</li>
              <li class="fragment">String</li>
                <pre><code data-trim contenteditable class="ruby">
name = "MAD"
puts "Hello #{name}"
                </code></pre>
              <li class="fragment">Regex
                <pre><code data-trim contenteditable class="ruby">
mpos = name =~ /MAD/
                </code></pre>
              </li>
              <li class="fragment">Symbols
                <pre><code data-trim contenteditable class="ruby">
symb = :name
puts :name # > 'name'
puts symb # > 'name'
                </code></pre>
              </li>
            </ul>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Misfortunes:Collections</p>
            <h3 class="inst"><span class="hlt">C</span>ollections</h3>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Misfortunes:Collections</p>
            <h3><span class="hlt">R</span>ange</h3>
            <pre><code data-trim contenteditable class="ruby">
good_cookies = 1...3 # [1, 2]
bad_cookies = 1..3 # [1, 2, 3]

good_cookies === 2 # true
good_cookies === 3 # false
bad_cookies === 3 # true

good_cookies.include?(2.345) # true
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Misfortunes:Collections</p>
            <h3><span class="hlt">A</span>rray</h3>
            <pre><code data-trim contenteditable class="ruby">
an_empty_array = []
a_new_array = Array.new

split_words = %w(Have you seen my a…?)
split_interpolation = %W(Have you #{name} my a…?)

from_range = (1..5).to_a
intersect_with_range = %W(Have you Seen my a…?)[1..3] # > ["you", "Seen", "my"]

split_words.push("Of Course!")
split_words << "A new one push"

split_words.delete_at(3)
split_words.delete("Of Course!")
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Misfortunes:Collections</p>
            <h3><span class="hlt">H</span>ash</h3>
            <pre><code data-trim contenteditable class="ruby">
an_empty_hash = {}
a_new_hash = Hash.new('default value for nil key')

a_new_hash['foo'] # > default value for nil key
a_new_hash['foo']= "cookie"

a_new_hash.has_key?('foo')
a_new_hash.has_value?('cookie')

a_new_hash.clear

another_hash = { foo: 'cookie'}
another_hash[:foo]
            </code></pre>
          </section>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Ruby:Blocks</p>
            <h2 class="inst"><span class="hlt">R</span>uby Blocks</h2>
          </section>
          <section>
            <p class="breadcrumb">Ruby:blocks</p>
            <h3><span class="hlt">B</span>asic block</h3>
            <pre><code data-trim contenteditable class="ruby">
begin
  puts "I'm a block."
  puts "Still there..." 
  puts "Stillllll in here..." 
  puts "OK, I'm done.
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:blocks</p>
            <h3><span class="hlt">M</span>ethods are blocks</h3>
            <pre><code data-trim contenteditable class="ruby">
def say_my_name(name)
  puts "Hey, " + name.capitalize + " is your name"
end
say_my_name('magnus') # > Hey, Magnus is your name
say_my_name 'Walt' # > Hey, Walt is your name

def new_method(a = "foo", b = "is fun")
  puts "#{a} #{b}"
end
new_method 'Ruby' # > Ruby is fun
new_method 'PHP', 'sucks!' # > PHP sucks!

def use_splats(name, *lang)
  puts "#{name}'s skills: #{lang.join ', '}"
end
use_splats 'MAD', 'js', 'ruby', 'python', 'php' # > MAD's skills: js, ruby, python, php
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:blocks</p>
            <h3><span class="hlt">R</span>eturn values</h3>
            <ul>
              <li><code>nil</code> retournée par défaut</li>
              <li>retourne le résultat de la dernière ligne invoquée</li>
              <li>force le retour de valeur avec <code>return</code></li>
            </ul>
          </section>
          <section>
            <p class="breadcrumb">Ruby:blocks</p>
            <h3><span class="hlt">C</span>ode blocks</h3>
            <pre><code data-trim contenteditable class="ruby">
myarray = %w{one two three four}

myarray.each {|element| print "[" + element + "]... " }

myarray.each do |element|
    print "[" + element + "]... "
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:blocks</p>
            <h3><span class="hlt">P</span>roc<small>(édures)</small></h3>
            <pre><code data-trim contenteditable class="ruby">
def make_show_name(show)
    Proc.new {|host| show + " with " + host}
end
the_show = make_show_name("Practical Cannibalism")

actors = ["H. Annabellector", "Jack Hannah"] 
actors.each {|actor| puts the_show.call(actor)}
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:blocks</p>
            <h3><span class="hlt">Y</span>ielding</h3>
            <pre><code data-trim contenteditable class="ruby">
def myeach(myarray) 
  for item in myarray
    yield(item)
  end 
end

testarray = [1,2,3,4,5]
myeach(testarray) {|item| print "#{item}:"}
            </code></pre>
          </section>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Ruby:Classes</p>
            <h2 class="inst"><span class="hlt">R</span>uby Classes</h2>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Classes</p>
            <pre><code data-trim contenteditable class="ruby">
class MyFirstClass < Object
  attr_reader :myvar, :second_var
  attr_writer :second_var

  def initialize(name)
    @name = name
    puts "Ya, #{@name}?"
  end
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Classes</p>
            <h3><span class="hlt">S</span>cope</h3>
            <pre><code data-trim contenteditable class="ruby">
class ScopedClass
  protected
  def a_protected_method

  end

  private
  def a_private_method

  end

  public
  def this_below_is_public

  end
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Classes</p>
            <h3><span class="hlt">P</span>roperties</h3>
            <pre><code data-trim contenteditable class="ruby">
class ScopedClass
  CLASS_CONST = 'A class constant'

  def initialize(name, location)
    @name = name
    @location = location

    @@latest = @name
    @@location = @location

    puts "Yes, master?"
  end

  def ScopedClass.latest
    puts "The latest is #{@@latest} in #{@@location}"
  end
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Classes</p>
            <h3><span class="hlt">Re</span>opening</h3>
            <pre><code data-trim contenteditable class="ruby">
class MyFirstClass
  attr_reader :myvar, :second_var
  attr_writer :second_var

  def initialize(name)
    @name = name
    puts "Ya, #{@name}?"
  end
end

class MyFirstClass
  def another_method
    puts "I add another method to my class"
  end
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Classes</p>
            <h3><span class="hlt">H</span>éritage</h3>
            <pre><code data-trim contenteditable class="ruby">
class Animal
  def walk
    puts "I can walk! I'm alive!"
  end
end

class Dog < Animal
  def walk
    puts "I'm a Dog and…"
    super
  end
end
            </code></pre>
          </section>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Ruby:Conditionnals & Loops</p>
            <h2 class="inst"><span class="hlt">C</span>onditionnals & Loops</h2>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Conditionnals & Loops</p>
            <h3><span class="hlt">if</span></h3>
            <pre><code data-trim contenteditable class="ruby">
latest = 15

if (latest < 20)
  more = 5
else
  more = 0
end

more = latest < 20? 5 :0

unless (lastest < 20)
  more = 0
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Conditionnals & Loops</p>
            <h3><span class="hlt">c</span>ase</h3>
            <pre><code data-trim contenteditable class="ruby">
enlight = 'foo'
case enlight
  when 'bar', 'baz'
    puts "It's not foo"
  when 'foo'
    puts "It's foo"
  else
    puts "It does not exist"
end

case
  when enlight == "foo" or enlight.nil?
    puts "Its foo or nil"
  when foo == "bar"
    puts "another totally different condition"
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Conditionnals & Loops</p>
            <h3><span class="hlt">w</span>hile / until</h3>
            <pre><code data-trim contenteditable class="ruby">
x = 0
while(x < 10):
  print x.to_s # print is like puts without a \n at the end
  x += 1
end

until(x >= 10)
  print x.to_s
  x += 1
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Conditionnals & Loops</p>
            <h3><span class="hlt">f</span>or..in</h3>
            <pre><code data-trim contenteditable class="ruby">
my_array = (1..6).to_a
for i in my_array do
  puts i
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Conditionnals & Loops</p>
            <h3><span class="hlt">S</span>tatement modifiers</h3>
            <pre><code data-trim contenteditable class="ruby">
latest = 15
more = 5 if lastest < 20
more = 5 unless lastest > 20

counter = 0
begin
  print translate("Tora! ")
  counter += 1
end until counter == 3
            </code></pre>
          </section>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Ruby:Exceptions</p>
            <h2 class="inst"><span class="hlt">E</span>xceptions</h2>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Exceptions</p>
            <h3><span class="hlt">R</span>escue</h3>
            <pre><code data-trim contenteditable class="ruby">
def method_of_doom
  my_string = "I sense impending doom."
  my_string.ah_ha_i_called_a_nonexistent_method

  rescue NoMethodError:
    puts "You're missing that method, fool!"

  rescue Exception:
    puts "Uhh...there's a problem with that there method."
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Exceptions</p>
            <h3><span class="hlt">R</span>aise</h3>
            <pre><code data-trim contenteditable class="ruby">
def define_gender(gender)
  if (gender.upcase != 'FEMALE') && (gender.upcase != 'MALE')
    raise "You specified something wonky for gender!"
  end
end

my_guy = Person.new
my_guy.define_gender("nobody knows")
            </code></pre>
          </section>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Ruby:Files</p>
            <h2 class="inst"><span class="hlt">F</span>iles</h2>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Files</p>
            <h3><span class="hlt">M</span>odules</h3>
            <pre><code data-trim contenteditable class="ruby">
module Movement
  def run
    puts "I'm running!"
  end

  def walk
    puts "I'm walking a bit briskly!"
  end

  def crawl
    puts "I'm so slowwww!"
  end
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Files</p>
            <h3><span class="hlt">M</span>odules</h3>
            <pre><code data-trim contenteditable class="ruby">
class Man
  include Movement

  def jump
    puts "I'm bipedal and I can jump like a fool!"
  end
end

mister_man = Man.new
mister_man.run
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Ruby:Files</p>
            <h3><span class="hlt">L</span>oad files</h3>
            <pre><code data-trim contenteditable class="ruby">
require "/path/to/myotherfile.rb"
            </code></pre>
          </section>
        </section>

        <section>
          <h2><span class="lettrine">G</span>em & dépendances</h2>
        </section>

        <section>
          <p class="breadcrumb">Gem</p>
          <h2><span class="hlt">C</span>'est quoi ?</h2>
          <ul>
            <li class="fragment"><span class="hlt">p</span>ackage</li>
            <li class="fragment"><span class="hlt">e</span>xtensions</li>
            <li class="fragment"><span class="hlt">r</span>ubygems.org</li>
          </ul>
        </section>

        <section>
          <p class="breadcrumb">Gem</p>
          <h2><span class="hlt">B</span>undler <small>(dépendances)</small></h2>
          <pre><code data-trim contenteditable class="ruby">
source 'https://rubygems.org'
ruby '2.0.0'

gem 'rails', '4.0.2'

gem 'sass-rails', '4.0.1'
gem 'uglifier'
gem 'coffee-rails', '4.0.1'
gem 'jquery-rails', '3.0.4'
          </code></pre>
          <pre><code data-trim contenteditable class="bash">
$ gem install bundle
$ alias be="bundle exec"

$ bundle install
          </code></pre>
        </section>

        <section>
          <p class="breadcrumb">Gem</p>
          <h2><span class="hlt">R</span>ake <small>(tâches)</small></h2>
          <pre><code data-trim contenteditable class="bash">
$ gem install rake
$ rake -T
          </code></pre>
        </section>

        <section>
          <h2><span class="lettrine">W</span>eb environments</h2>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Web:Rails</p>
            <h2 class="inst"><span class="hlt">R</span>ails</h2>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails</p>
            <h2><span class="hlt">P</span>ourquoi Rails ?</h2>
            <ul>
              <li class="fragment">37signals, Github, Shopify, Twitter, Disney…</li>
              <li class="fragment"><span class="hlt">C</span>ommande <code>rails</code> (LE truc de feignant)</li>
              <li class="fragment"><span class="hlt">A</span>pproche MVC</li>
              <li class="fragment"><span class="hlt">P</span>rocess persistant</li>
              <li class="fragment"><span class="hlt">C</span>onvention Over Configuration</li>
              <li class="fragment"><span class="hlt">(</span>parce que tu peux te la jouer en soirée<span class="hlt">)</span></li>
            </ul>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails</p>
            <h2><span class="hlt">P</span>repare</h2>
            <pre><code data-trim contenteditable class="bash">
$ rbenv  install 2.1.0
$ mkdir rails_demo && cd rails_demo
$ rbenv local 2.1.0
$ gem update
          </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails</p>
            <h2><span class="hlt">I</span>nstall</h2>
            <pre><code data-trim contenteditable class="bash">
$ gem install rails
$ rbenv rehash
$ be rails new demo
          </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails</p>
            <pre><code data-trim contenteditable class="bash">
demo
├── app
│   ├── assets
│   │   ├── images
│   │   ├── javascripts
│   │   └── stylesheets
│   ├── controllers
│   │   └── application_controller.rb
│   ├── helpers
│   ├── mailers
│   ├── models
│   └── views
│       └── layouts
├── bin
├── config
│   ├── environments
│   │   ├── development.rb
│   │   ├── production.rb
│   │   └── test.rb
│   ├── initializers
│   ├── locales
│   ├── application.rb
│   ├── boot.rb
│   ├── database.yml
│   ├── environment.rb
│   └── routes.rb
├── db
├── lib
├── log
├── public
│   ├── 404.html
│   ├── 422.html
│   ├── 500.html
│   ├── favicon.ico
│   └── robots.txt
├── test
├── tmp
├── vendor
├── Gemfile
├── Gemfile.lock
├── README.rdoc
├── Rakefile
└── config.ru
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails</p>
            <h2><span class="hlt">L</span>aunch</h2>
            <pre><code data-trim contenteditable class="bash">
$ be rails server
$ open http://0.0.0.0:3000
            </code></pre>
          </section>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Web:Rails:FirstApp</p>
            <h2 class="inst"><span class="hlt">D</span>émarrer</h2>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:FirstApp</p>
            <h2><span class="hlt">G</span>emfile</h2>
            <pre><code data-trim contenteditable class="ruby">
group :development, :test do
  gem 'sqlite3', '1.3.8'
  gem 'rspec-rails', '2.13.1'
end
            </code></pre>
            <pre><code data-trim contenteditable class="bash">
$ bundle install --without production
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:FirstApp</p>
            <h2><span class="hlt">S</span>caffolding</h2>
            <pre><code data-trim contenteditable class="bash">
$ be rails generate scaffold User name:string email:string
$ be rails generate scaffold Post content:string user_id:integer
$ be rake db:migrate
            </code></pre>
            <p><a href="http://0.0.0.0:3000" class="normal"><span class="hlt">//</span>0.0.0.0:3000</a></p>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:FirstApp</p>
            <h2><span class="hlt">REST</span>ful</h2>
            <table><tbody><tr><th><strong>HTTP request</strong></th><th><strong>URL</strong></th><th><strong>Action</strong></th><th><strong>Purpose</strong></th></tr><tr><td><tt>GET</tt></td><td>/users</td><td><code>index</code></td><td>page to list all users</td></tr><tr><td><tt>GET</tt></td><td>/users/1</td><td><code>show</code></td><td>page to show user with id <code>1</code></td></tr><tr><td><tt>GET</tt></td><td>/users/new</td><td><code>new</code></td><td>page to make a new user</td></tr><tr><td><tt>POST</tt></td><td>/users</td><td><code>create</code></td><td>create a new user</td></tr><tr><td><tt>GET</tt></td><td>/users/1/edit</td><td><code>edit</code></td><td>page to edit user with id <code>1</code></td></tr><tr><td><tt>PATCH</tt></td><td>/users/1</td><td><code>update</code></td><td>update user with id <code>1</code></td></tr><tr><td><tt>DELETE</tt></td><td>/users/1</td><td><code>destroy</code></td><td>delete user with id <code>1</code></td></tr></tbody></table>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:FirstApp</p>
            <h2><span class="hlt">M</span>agique ?</h2>
            <ul>
              <li class="fragment"><span class="hlt">P</span>as de customization de layout</li>
              <li class="fragment"><span class="hlt">P</span>as de pages statiques</li>
              <li class="fragment"><span class="hlt">P</span>as d'auth / de sécurité</li>
              <li class="fragment"><span class="hlt">P</span>as de relationship auto</li>
              <li class="fragment"><span class="hlt">P</span>as de test</li>
              <li class="fragment"><span class="hlt">C</span>omplètement automatisé :'(</li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Web:Rails:Models</p>
            <h2 class="inst"><span class="hlt">M</span>odèles</h2>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:Models</p>
            <h2><span class="hlt">A</span>ctive<span class="hlt">R</span>ecord</h2>
            <pre><code data-trim contenteditable class="ruby">
class User < ActiveRecord::Base

end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:Models</p>
            <h2><span class="hlt">R</span>elationships</h2>
            <pre><code data-trim contenteditable class="ruby">
class User < ActiveRecord::Base
  has_many :posts
end

class Post < ActiveRecord::Base
  belongs_to :user
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:Models</p>
            <h2><span class="hlt">V</span>alidations</h2>
            <pre><code data-trim contenteditable class="ruby">
class Post < ActiveRecord::Base
  validates :content, length: { maximum: 140 }
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:Models</p>
            <h2><span class="hlt">M</span>igrations</h2>
            <pre><code data-trim contenteditable class="bash">
$ be rails generate migration AddTaglineToPosts tagline:string
            </code></pre>
            <pre><code data-trim contenteditable class="ruby">
class AddTaglineToPost < ActiveRecord::Migration
  def change
    add_column :posts, :tagline, :string
  end
end
            </code></pre>
          </section>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Web:Rails:Views</p>
            <h2 class="inst"><span class="hlt">V</span>ues</h2>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:Views</p>
            <h2><span class="hlt">R</span>endering</h2>
            <ul>
              <li class="fragment"><span class="hlt">R</span>éponse automatique</li>
              <li class="fragment"><span class="hlt">U</span>tilise le nom de la méthode</li>
              <li class="fragment"><span class="hlt">E</span>RB (par défaut)
                <pre><code data-trim contenteditable class="erb">
&lt;head&gt;
  &lt;title&gt;Demo&lt;/title&gt;
  &lt;%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" =&gt; true %&gt;
  &lt;%= javascript_include_tag "application", "data-turbolinks-track" =&gt; true %&gt;
  &lt;%= csrf_meta_tags %&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;%= yield %&gt;
&lt;/body&gt;
                </code></pre>
              </li>
            </ul>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:Views</p>
            <h2><span class="hlt">F</span>orms</h2>
            <pre><code data-trim contenteditable class="erb">
&lt;%= form_for(@post) do |f| %&gt;
  &lt;% if @post.errors.any? %&gt;
    &lt;ul&gt;
    &lt;% @post.errors.full_messages.each do |msg| %&gt;
      &lt;li&gt;&lt;%= msg %&gt;&lt;/li&gt;
    &lt;% end %&gt;
    &lt;/ul&gt;
  &lt;% end %&gt;

  &lt;div class="field"&gt;
    &lt;%= f.label :user_id %&gt;&lt;br&gt;
    &lt;%= f.number_field :user_id %&gt;
  &lt;/div&gt;
  &lt;div class="actions"&gt;
    &lt;%= f.submit %&gt;
  &lt;/div&gt;
&lt;% end %&gt;
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:Views</p>
            <h2><span class="hlt">L</span>inks</h2>
            <pre><code data-trim contenteditable class="erb">
&lt;h1>Editing post&lt;/h1&gt;

&lt;%= render 'form' %&gt;

&lt;%= link_to 'Show', @post %&gt; |
&lt;%= link_to 'Back', posts_path %&gt;
            </code></pre>
          </section>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Web:Rails:Controller</p>
            <h2 class="inst"><span class="hlt">C</span>ontrolleur</h2>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:Controller</p>
            <h2><span class="hlt">A</span>ctions</h2>
            <pre><code data-trim contenteditable class="ruby">
class UsersController < ApplicationController
  before_action :set_user, only: [:show, :edit, :update]

  def new
    @user = User.new
  end

  def edit
  end

  ...

  private
    def set_user
      @user = User.find(params[:id])
    end
end

            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Rails:Controller</p>
            <h2><span class="hlt">R</span>outes</h2>
            <ul>
              <li class="fragment"><span class="hlt">M</span>apping automatique</li>
              <li class="fragment"><span class="hlt">S</span>urchage spécifique possible</li>
              <li class="fragment"><span class="hlt">U</span>tilisation de regex</li>
              <li class="fragment"><span class="hlt">D</span>éfinition d'une action de <code>root</code></li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Web:Microframeworks</p>
            <h2 class="inst"><span class="hlt">Micro</span><br>frameworks</h2>
          </section>
          <section>
            <p class="breadcrumb">Web:Microframeworks:Sinatra</p>
            <h2><span class="hlt">S</span>inatra</h2>
            <ul>
              <li class="fragment"><span class="hlt">D</span>SL</li>
              <li class="fragment"><span class="hlt">F</span>ichiers statiques</li>
              <li class="fragment"><span class="hlt">R</span>endering / Templating</li>
              <li class="fragment"><span class="hlt">H</span>elpers</li>
              <li class="fragment"><span class="hlt">C</span>ache-control</li>
              <li class="fragment"><span class="hlt">A</span>gnostique</li>
            </ul>
          </section>
          <section>
            <p class="breadcrumb">Web:Microframeworks:Sinatra</p>
            <h2><span class="hlt">S</span>inatra</h2>
            <pre><code data-trim contenteditable class="ruby">
get '/' do
end

post '/' do
end

put '/' do
end

patch '/' do
end

delete '/' do
end

options '/' do
end
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Microframeworks:Padrino</p>
            <h2><span class="hlt">P</span>adrino</h2>
            <ul>
              <li class="fragment"><span class="hlt">S</span>inatra core</li>
              <li class="fragment"><span class="hlt">A</span>dmin auto (a-la-django)</li>
              <li class="fragment"><span class="hlt">S</span>caffolding via <code>rake</code></li>
              <li class="fragment"><span class="hlt">R</span>ecipes (plugins)</li>
              <li class="fragment"><span class="hlt">M</span>ounting</li>
            </ul>
          </section>
          <section>
            <p class="breadcrumb">Web:Microframeworks:Padrino</p>
            <h2><span class="hlt">I</span>nitialisation</h2>
            <pre><code data-trim contenteditable class="bash">
$ padrino g project blog -d activerecord
$ cd blog
$ bundle install
$ padrino g admin
$ padrino rake ar:migrate
$ padrino rake seed
$ padrino start
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Microframeworks:Padrino</p>
            <h2><span class="hlt">S</span>caffold</h2>
            <pre><code data-trim contenteditable class="bash">
$ padrino g model post name:string body:text
$ padrino rake ar:migrate
$ padrino g admin_page post
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Web:Microframeworks:Padrino</p>
            <h2><span class="hlt">C</span>ontrolleurs</h2>
            <pre><code data-trim contenteditable class="ruby">
# app/controllers/posts.rb
SampleBlog.controllers :posts do
  get :index do
    @posts = Post.all(:order => 'created_at desc')
    render 'posts/index'
  end

  get :show, :with => :id do
    @post = Post.find_by_id(params[:id])
    render 'posts/show'
  end
end
            </code></pre>
          </section>
        </section>

        <section>
          <h2><span class="lettrine">P</span>roduction</h2>
        </section>

        <section>
          <section>
            <p class="breadcrumb">Production:Capitrano</p>
            <h2><span class="hlt">C</span>apistrano</h2>
            <ul>
              <li class="fragment"><span class="hlt">M</span>ulti-langages</li>
              <li class="fragment"><span class="hlt">D</span>éploiement distant</li>
              <li class="fragment"><span class="hlt">R</span>ecettes globales</li>
              <li class="fragment"><span class="hlt">P</span>ropulsé par Rake</li>
            </ul>
          </section>
          <section>
            <p class="breadcrumb">Production:Capitrano</p>
            <h2><span class="hlt">C</span>apfile</h2>
            <pre><code data-trim contenteditable class="ruby">
set :application, "myapp"
set :repository,  "ssh://git@git.mygitserver.hu:2222/myapp"
set :branch,      "master"
set :scm,         :git
set :deploy_via,  :remote_cache

set :deploy_to,   "/var/www/myapp"
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Production:Capitrano</p>
            <h2><span class="hlt">W</span>orkflow</h2>
            <pre><code data-trim contenteditable class="ruby">
deploy
  deploy:starting
    [before]
      deploy:ensure_stage
      deploy:set_shared_assets
    deploy:check
  deploy:started
  deploy:updating
    git:create_release
    deploy:symlink:shared
  deploy:updated
    [before]
      deploy:bundle
    [after]
      deploy:migrate
      deploy:compile_assets
    …
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Production:Capitrano</p>
            <h2><span class="hlt">S</span>tructure</h2>
            <pre><code data-trim contenteditable class="bash">
/var
└── app
    ├── shared
    │   ├── images
    │   ├── javascripts
    │   └── stylesheets
    ├── v0.1
    ├── v0.2
    ├── v0.3
    └── www -> v0.3
            </code></pre>
          </section>
          <section>
            <p class="breadcrumb">Production:Unicorn</p>
            <h2><span class="hlt">U</span>nicorn</h2>
            <ul>
              <li class="fragment"><span class="hlt">S</span>pawning</li>
              <li class="fragment"><span class="hlt">S</span>upervisord</li>
              <li class="fragment"><span class="hlt">G</span>ithub / Heroku</li>
              <li class="fragment"><span class="hlt">C</span>allbacks</li>
            </ul>
          </section>
          <section>
            <p class="breadcrumb">Production:Unicorn</p>
            <h2><span class="hlt">U</span>nicorn</h2>
            <pre><code data-trim contenteditable class="ruby">
preload_app true
# ...
before_fork do |server, worker|
  # ...
  defined?(ActiveRecord::Base) and
    ActiveRecord::Base.connection.disconnect!
end

after_fork do |server, worker|
  # ...
  defined?(ActiveRecord::Base) and
    ActiveRecord::Base.establish_connection
end
            </code></pre>
          </section>
        </section>

        <section>
            <h2><span class="lettrine">Q</span>uestions ?</h2>
        </section>

        <section class="bgi" data-background="./img/ill/cat.jpg" data-transition="linear" data-background-transition="slide">
            <h2><span class="lettrine">M</span>erci !</h2>
            <p><small><a href="http://madsgraphics.github.io/prez/ruby_rails_ugly.html" class="normal"><span class="hlt">//</span>madsgraphics.github.io/prez/ruby_rails_ugly.html</a></small></p>
        </section>

        <section id="credits">
            <h2><span class="hlt">C</span>rédits</h2>
            <dl>
                <dt>Fonts</dt>
                <dd>
                    <ul>
                        <li><a class="normal" href="http://www.fontsquirrel.com/fonts/bebas-neue"><span class="hlt">B</span>ebas Neue</a><br><span class="creator">By <a class="normal und" href="http://www.dharmatype.com/">Dharma Type</a> // Dharma Type Font License v1.00</span></li>
                        <li><a class="normal" href="http://www.fontsquirrel.com/fonts/roboto"><span class="hlt">R</span>oboto Bold Condensed</a><br><span class="creator">By Christian Robertson // Apache License v2.00</span></li>
                        <li><a class="normal" href="http://www.fontsquirrel.com/fonts/DejaVu-Sans"><span class="hlt">D</span>ejaVu Sans Book</a><br><span class="creator">By <a class="normal und" href="http://dejavu-fonts.org/">DejaVu Fonts</a> // DejaVu Fonts License v1.00</span></li>
                        <li><a class="normal" href="http://www.fontsquirrel.com/fonts/source-code-pro"><span class="hlt">S</span>ource Code Pro</a><br><span class="creator">Copyright 2010, 2012 <a class="normal und" href="http://www.adobe.com/">Adobe Systems Incorporated</a> // SIL Open Font License v1.10</li>
                    </ul>
                </dd>
                <dt>Images</dt>
                <dd>
                    <ul>
                        <li><a class="normal" href="http://www.flickr.com/photos/20561948@N00/261865727/"><span class="hlt">Y</span>ou Killed the Beast, Killer!!!</a><br><span class="creator">By spike55151 // <a class="normal und" href="http://creativecommons.org/licenses/by-nc-sa/2.0/">cc</a></span></li>
                    </ul>
                </dd>
            </dl>
        </section>

      </div>
    </div>

    <script src="./lib/js/head.min.js"></script>
    <script src="./js/reveal.min.js"></script>

    <script>
      Reveal.initialize({
        history: true,

        theme: 'default',
        transition: 'concave',
        backgroundTransition: 'default',

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: './lib/js/classList.js', condition: function() { return !document.body.classList; } },
          // { src: '/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          // { src: '/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: './plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          // { src: '/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          // { src: '/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
          // { src: '/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });
    </script>

  </body>
</html>
